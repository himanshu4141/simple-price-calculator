{"ast":null,"code":"import { PricingService } from '../../services/pricing.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/pricing.service\";\nimport * as i2 from \"@angular/material/card\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/material/button-toggle\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/material/form-field\";\nimport * as i7 from \"@angular/material/select\";\nimport * as i8 from \"@angular/material/core\";\nimport * as i9 from \"@angular/material/icon\";\nimport * as i10 from \"@angular/material/slider\";\n\nfunction PriceCalculatorComponent_ng_container_14_mat_option_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const plan_r6 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", plan_r6.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", plan_r6.name, \" \");\n  }\n}\n\nfunction PriceCalculatorComponent_ng_container_14_div_13_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 18)(1, \"div\", 19)(2, \"input\", 32);\n    i0.ɵɵlistener(\"ngModelChange\", function PriceCalculatorComponent_ng_container_14_div_13_div_15_Template_input_ngModelChange_2_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const family_r2 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r11 = i0.ɵɵnextContext();\n      return ctx_r11.selections[family_r2.name].packages = $event;\n    })(\"ngModelChange\", function PriceCalculatorComponent_ng_container_14_div_13_div_15_Template_input_ngModelChange_2_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r14 = i0.ɵɵnextContext(3);\n      return ctx_r14.calculateTotal();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 21)(4, \"div\", 22)(5, \"label\", 23);\n    i0.ɵɵtext(6, \"Package subscriptions\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"mat-icon\", 24);\n    i0.ɵɵtext(8, \"help_outline\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 25);\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"currency\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(12, \"mat-slider\", 33);\n    i0.ɵɵlistener(\"ngModelChange\", function PriceCalculatorComponent_ng_container_14_div_13_div_15_Template_mat_slider_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const family_r2 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r15 = i0.ɵɵnextContext();\n      return ctx_r15.selections[family_r2.name].packages = $event;\n    })(\"ngModelChange\", function PriceCalculatorComponent_ng_container_14_div_13_div_15_Template_mat_slider_ngModelChange_12_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r17 = i0.ɵɵnextContext(3);\n      return ctx_r17.calculateTotal();\n    });\n    i0.ɵɵelement(13, \"input\", 27);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r18 = i0.ɵɵnextContext(2);\n    const i_r3 = ctx_r18.index;\n    const family_r2 = ctx_r18.$implicit;\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"packagesInput\", i_r3, \"\");\n    i0.ɵɵproperty(\"ngModel\", ctx_r7.selections[family_r2.name].packages)(\"name\", \"packages-\" + i_r3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"for\", \"packagesInput\" + i_r3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"matTooltip\", \"Number of document signing packages per month. One package can include multiple documents and signers.\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(11, 11, ctx_r7.getUnitPrice(family_r2.name, \"packages\")), \"/package \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"discrete\", true)(\"showTickMarks\", true)(\"displayWith\", ctx_r7.formatSliderLabel)(\"ngModel\", ctx_r7.selections[family_r2.name].packages)(\"name\", \"packages-slider-\" + i_r3);\n  }\n}\n\nfunction PriceCalculatorComponent_ng_container_14_div_13_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 34)(1, \"span\");\n    i0.ɵɵtext(2, \"Base price\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const family_r2 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(5, 1, ctx_r8.getPlanBasePrice(family_r2.name, ctx_r8.selections[family_r2.name].selectedPlan)), \"/month\");\n  }\n}\n\nfunction PriceCalculatorComponent_ng_container_14_div_13_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 34)(1, \"span\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const family_r2 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Seats (\", ctx_r9.selections[family_r2.name].seats, \")\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(5, 2, ctx_r9.getSeatsCost(family_r2.name)), \"/month\");\n  }\n}\n\nfunction PriceCalculatorComponent_ng_container_14_div_13_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 34)(1, \"span\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const family_r2 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Packages (\", ctx_r10.selections[family_r2.name].packages, \")\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(5, 2, ctx_r10.getPackagesCost(family_r2.name)), \"/month\");\n  }\n}\n\nfunction PriceCalculatorComponent_ng_container_14_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"div\", 18)(2, \"div\", 19)(3, \"input\", 20);\n    i0.ɵɵlistener(\"ngModelChange\", function PriceCalculatorComponent_ng_container_14_div_13_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r23);\n      const family_r2 = i0.ɵɵnextContext().$implicit;\n      const ctx_r22 = i0.ɵɵnextContext();\n      return ctx_r22.selections[family_r2.name].seats = $event;\n    })(\"ngModelChange\", function PriceCalculatorComponent_ng_container_14_div_13_Template_input_ngModelChange_3_listener() {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r25 = i0.ɵɵnextContext(2);\n      return ctx_r25.calculateTotal();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 21)(5, \"div\", 22)(6, \"label\", 23);\n    i0.ɵɵtext(7, \"Seats\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"mat-icon\", 24);\n    i0.ɵɵtext(9, \"help_outline\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 25);\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"currency\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(13, \"mat-slider\", 26);\n    i0.ɵɵlistener(\"ngModelChange\", function PriceCalculatorComponent_ng_container_14_div_13_Template_mat_slider_ngModelChange_13_listener($event) {\n      i0.ɵɵrestoreView(_r23);\n      const family_r2 = i0.ɵɵnextContext().$implicit;\n      const ctx_r26 = i0.ɵɵnextContext();\n      return ctx_r26.selections[family_r2.name].seats = $event;\n    })(\"ngModelChange\", function PriceCalculatorComponent_ng_container_14_div_13_Template_mat_slider_ngModelChange_13_listener() {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r28 = i0.ɵɵnextContext(2);\n      return ctx_r28.calculateTotal();\n    });\n    i0.ɵɵelement(14, \"input\", 27);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(15, PriceCalculatorComponent_ng_container_14_div_13_div_15_Template, 14, 13, \"div\", 28);\n    i0.ɵɵelementStart(16, \"div\", 29);\n    i0.ɵɵtemplate(17, PriceCalculatorComponent_ng_container_14_div_13_div_17_Template, 6, 3, \"div\", 30);\n    i0.ɵɵtemplate(18, PriceCalculatorComponent_ng_container_14_div_13_div_18_Template, 6, 4, \"div\", 30);\n    i0.ɵɵtemplate(19, PriceCalculatorComponent_ng_container_14_div_13_div_19_Template, 6, 4, \"div\", 30);\n    i0.ɵɵelementStart(20, \"div\", 31)(21, \"span\");\n    i0.ɵɵtext(22, \"Total\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"span\");\n    i0.ɵɵtext(24);\n    i0.ɵɵpipe(25, \"currency\");\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r29 = i0.ɵɵnextContext();\n    const i_r3 = ctx_r29.index;\n    const family_r2 = ctx_r29.$implicit;\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"seatsInput\", i_r3, \"\");\n    i0.ɵɵproperty(\"ngModel\", ctx_r5.selections[family_r2.name].seats)(\"name\", \"seats-\" + i_r3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"for\", \"seatsInput\" + i_r3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"matTooltip\", ctx_r5.getSeatsTooltip(family_r2.name));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(12, 16, ctx_r5.getUnitPrice(family_r2.name, \"seats\")), \"/seat/month \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"discrete\", true)(\"showTickMarks\", true)(\"displayWith\", ctx_r5.formatSliderLabel)(\"ngModel\", ctx_r5.selections[family_r2.name].seats)(\"name\", \"seats-slider-\" + i_r3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.showSignOptions(family_r2.name));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.getPlanBasePrice(family_r2.name, ctx_r5.selections[family_r2.name].selectedPlan) > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.selections[family_r2.name].seats > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.selections[family_r2.name].packages > 0);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(25, 18, ctx_r5.getFamilyTotal(family_r2.name)), \"/month\");\n  }\n}\n\nfunction PriceCalculatorComponent_ng_container_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r31 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"mat-card\", 10)(2, \"mat-card-title\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"mat-card-content\")(5, \"div\", 3)(6, \"mat-form-field\", 11)(7, \"mat-label\");\n    i0.ɵɵtext(8, \"Select Plan\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"mat-select\", 12);\n    i0.ɵɵlistener(\"ngModelChange\", function PriceCalculatorComponent_ng_container_14_Template_mat_select_ngModelChange_9_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r31);\n      const family_r2 = restoredCtx.$implicit;\n      const ctx_r30 = i0.ɵɵnextContext();\n      return ctx_r30.selections[family_r2.name].selectedPlan = $event;\n    })(\"selectionChange\", function PriceCalculatorComponent_ng_container_14_Template_mat_select_selectionChange_9_listener() {\n      i0.ɵɵrestoreView(_r31);\n      const ctx_r32 = i0.ɵɵnextContext();\n      return ctx_r32.calculateTotal();\n    });\n    i0.ɵɵelementStart(10, \"mat-option\", 13);\n    i0.ɵɵtext(11, \"Select a plan\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(12, PriceCalculatorComponent_ng_container_14_mat_option_12_Template, 2, 2, \"mat-option\", 14);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(13, PriceCalculatorComponent_ng_container_14_div_13_Template, 26, 20, \"div\", 15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const family_r2 = ctx.$implicit;\n    const i_r3 = ctx.index;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(family_r2.name);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.selections[family_r2.name].selectedPlan)(\"name\", \"plan-\" + i_r3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.getPlans(family_r2.name));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.selections[family_r2.name].selectedPlan);\n  }\n}\n\nfunction PriceCalculatorComponent_div_15_ng_container_4_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 39)(1, \"h4\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 40);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const family_r34 = i0.ɵɵnextContext().$implicit;\n    const ctx_r35 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(family_r34.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(5, 2, ctx_r35.getFamilyTotal(family_r34.name)), \"/month\");\n  }\n}\n\nfunction PriceCalculatorComponent_div_15_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, PriceCalculatorComponent_div_15_ng_container_4_div_1_Template, 6, 4, \"div\", 38);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const family_r34 = ctx.$implicit;\n    const ctx_r33 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r33.selections[family_r34.name].selectedPlan);\n  }\n}\n\nfunction PriceCalculatorComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35)(1, \"h3\");\n    i0.ɵɵtext(2, \"Total Subscription\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 36);\n    i0.ɵɵtemplate(4, PriceCalculatorComponent_div_15_ng_container_4_Template, 2, 1, \"ng-container\", 8);\n    i0.ɵɵelementStart(5, \"div\", 37)(6, \"span\");\n    i0.ɵɵtext(7, \"Total Subscription Cost\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"span\");\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"currency\");\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.productFamilies);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(10, 2, ctx_r1.calculateTotal()), \"/month\");\n  }\n}\n\nexport let PriceCalculatorComponent = /*#__PURE__*/(() => {\n  class PriceCalculatorComponent {\n    constructor(pricingService) {\n      this.pricingService = pricingService;\n      this.productFamilies = [];\n      this.selectedTerm = '1year'; // State for each product family\n\n      this.selections = {};\n      this.combinedTotal = null;\n    }\n\n    ngOnInit() {\n      this.pricingService.fetchPricingData().subscribe(data => {\n        if (data && Array.isArray(data.productFamilies)) {\n          this.productFamilies = data.productFamilies; // Initialize state for each family\n\n          for (const family of this.productFamilies) {\n            this.selections[family.name] = {\n              selectedPlan: '',\n              seats: 1,\n              packages: 0,\n              apiCalls: 0,\n              totalPrice: null\n            };\n          }\n        }\n      });\n    }\n\n    getPlans(familyName) {\n      const family = this.productFamilies.find(f => f.name === familyName);\n      return family ? family.plans : [];\n    }\n\n    showSignOptions(familyName) {\n      var _a;\n\n      return familyName === 'Nitro Sign' && !!((_a = this.selections[familyName]) === null || _a === void 0 ? void 0 : _a.selectedPlan);\n    }\n\n    calculateTotal() {\n      let total = 0;\n\n      for (const family of this.productFamilies) {\n        const sel = this.selections[family.name];\n\n        if (!sel.selectedPlan) {\n          sel.totalPrice = null;\n          continue;\n        }\n\n        const basePlanPrice = this.getPlanBasePrice(family.name, sel.selectedPlan);\n        const seatsCost = this.getSeatsCost(family.name);\n        const packagesCost = this.getPackagesCost(family.name);\n        const price = basePlanPrice + seatsCost + packagesCost;\n        sel.totalPrice = price; // Update breakdown\n\n        sel.breakdown = {\n          seatCost: seatsCost,\n          seatUnitPrice: this.getUnitPrice(family.name, 'seats'),\n          packageCost: packagesCost\n        };\n\n        if (family.name === 'Nitro Sign') {\n          const plan = this.getPlans(family.name).find(p => p.name === sel.selectedPlan);\n\n          if (plan) {\n            const freePackages = (plan.freePackagesPerSeat || 0) * sel.seats;\n            const extraPackages = Math.max(0, sel.packages - freePackages);\n            sel.breakdown = Object.assign(Object.assign({}, sel.breakdown), {\n              freePackages,\n              extraPackages,\n              packageCost: extraPackages * this.getUnitPrice(family.name, 'packages')\n            });\n          }\n        }\n\n        total += price;\n      }\n\n      this.combinedTotal = total > 0 ? total : null;\n    }\n\n    getSeatsCost(familyName) {\n      var _a;\n\n      const seats = ((_a = this.selections[familyName]) === null || _a === void 0 ? void 0 : _a.seats) || 0;\n      return seats * this.getUnitPrice(familyName, 'seats');\n    }\n\n    getPackagesCost(familyName) {\n      var _a;\n\n      const packages = ((_a = this.selections[familyName]) === null || _a === void 0 ? void 0 : _a.packages) || 0;\n      return packages * this.getUnitPrice(family.name, 'packages');\n    }\n\n    getFamilyTotal(familyName) {\n      const sel = this.selections[familyName];\n      return (sel === null || sel === void 0 ? void 0 : sel.totalPrice) || 0;\n    }\n\n    hasAnySelection() {\n      return Object.values(this.selections).some(selection => selection.selectedPlan);\n    }\n\n    calculateTotal() {\n      return this.productFamilies.reduce((total, family) => {\n        return total + this.getFamilyTotal(family.name);\n      }, 0);\n    }\n\n    getSelectedPlanPrice(familyName, priceType) {\n      const plan = this.getPlans(familyName).find(p => p.name === this.selections[familyName].selectedPlan);\n      const value = plan && typeof plan[priceType] === 'number' ? plan[priceType] : 0;\n      return value;\n    }\n\n    getSeatsTooltip(familyName) {\n      switch (familyName) {\n        case 'Nitro PDF':\n          return 'Number of team members who need access to Nitro PDF Pro features. Each seat allows one user to create, edit, and collaborate on PDF documents.';\n\n        case 'Nitro Sign':\n          return 'Number of users who need access to electronic signature capabilities. Each seat allows one team member to send, sign, and manage documents for signing.';\n\n        default:\n          return 'Number of user licenses required';\n      }\n    }\n\n    getUnitPrice(familyName, type) {\n      var _a;\n\n      const plan = (_a = this.selections[familyName]) === null || _a === void 0 ? void 0 : _a.selectedPlan;\n      if (!plan) return 0;\n      const pricing = this.pricingService.getPricingForPlan(familyName, plan);\n      const term = this.selectedTerm === '3year' ? 0.8 : 1; // 20% discount for 3-year term\n\n      switch (type) {\n        case 'seats':\n          return (pricing.seatPrice || 0) * term;\n\n        case 'packages':\n          return (pricing.packagePrice || 0) * term;\n\n        case 'apiCalls':\n          return (pricing.apiCallPrice || 0) / 1000 * term;\n        // Price per 1000 calls\n\n        default:\n          return 0;\n      }\n    }\n\n    getPlanBasePrice(familyName, planName) {\n      const pricing = this.pricingService.getPricingForPlan(familyName, planName);\n      const term = this.selectedTerm === '3year' ? 0.8 : 1; // 20% discount for 3-year term\n\n      return (pricing.basePrice || 0) * term;\n    }\n\n    formatSliderLabel(value) {\n      if (value >= 1000) {\n        return `${(value / 1000).toFixed(1)}k`;\n      }\n\n      return `${value}`;\n    }\n\n  }\n\n  PriceCalculatorComponent.ɵfac = function PriceCalculatorComponent_Factory(t) {\n    return new (t || PriceCalculatorComponent)(i0.ɵɵdirectiveInject(i1.PricingService));\n  };\n\n  PriceCalculatorComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PriceCalculatorComponent,\n    selectors: [[\"app-price-calculator\"]],\n    decls: 16,\n    vars: 3,\n    consts: [[1, \"calculator-page\"], [1, \"calculator-form\"], [\"autocomplete\", \"off\"], [1, \"form-section\"], [\"name\", \"term\", \"exclusive\", \"\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"value\", \"1year\"], [\"value\", \"3year\"], [1, \"calculator-grid\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"subscription-summary\", 4, \"ngIf\"], [1, \"family-section\"], [\"appearance\", \"outline\", 1, \"plan-select\"], [3, \"ngModel\", \"name\", \"ngModelChange\", \"selectionChange\"], [\"value\", \"\", \"disabled\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"calculator-content\", 4, \"ngIf\"], [3, \"value\"], [1, \"calculator-content\"], [1, \"form-section\", \"calculator-row\"], [1, \"input-group\"], [\"type\", \"number\", \"min\", \"1\", \"max\", \"50000\", 1, \"calculator-input\", 3, \"id\", \"ngModel\", \"name\", \"ngModelChange\"], [1, \"control-label\"], [1, \"label-group\"], [3, \"for\"], [\"matTooltipPosition\", \"right\", 1, \"info-icon\", 3, \"matTooltip\"], [1, \"price-breakdown\"], [\"min\", \"1\", \"max\", \"50000\", \"step\", \"1\", 1, \"calculator-slider\", 3, \"discrete\", \"showTickMarks\", \"displayWith\", \"ngModel\", \"name\", \"ngModelChange\"], [\"matSliderThumb\", \"\"], [\"class\", \"form-section calculator-row\", 4, \"ngIf\"], [1, \"pricing-summary\"], [\"class\", \"summary-row\", 4, \"ngIf\"], [1, \"summary-total\"], [\"type\", \"number\", \"min\", \"0\", \"max\", \"100000\", 1, \"calculator-input\", 3, \"id\", \"ngModel\", \"name\", \"ngModelChange\"], [\"min\", \"0\", \"max\", \"100000\", \"step\", \"10\", 1, \"calculator-slider\", 3, \"discrete\", \"showTickMarks\", \"displayWith\", \"ngModel\", \"name\", \"ngModelChange\"], [1, \"summary-row\"], [1, \"subscription-summary\"], [1, \"summary-container\"], [1, \"grand-total\"], [\"class\", \"summary-section\", 4, \"ngIf\"], [1, \"summary-section\"], [1, \"summary-amount\"]],\n    template: function PriceCalculatorComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"mat-card\", 1)(2, \"h2\");\n        i0.ɵɵtext(3, \"Price Calculator\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"form\", 2)(5, \"div\", 3)(6, \"label\");\n        i0.ɵɵtext(7, \"Term:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"mat-button-toggle-group\", 4);\n        i0.ɵɵlistener(\"ngModelChange\", function PriceCalculatorComponent_Template_mat_button_toggle_group_ngModelChange_8_listener($event) {\n          return ctx.selectedTerm = $event;\n        })(\"change\", function PriceCalculatorComponent_Template_mat_button_toggle_group_change_8_listener() {\n          return ctx.calculateTotal();\n        });\n        i0.ɵɵelementStart(9, \"mat-button-toggle\", 5);\n        i0.ɵɵtext(10, \"1 Year\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"mat-button-toggle\", 6);\n        i0.ɵɵtext(12, \"3 Years\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(13, \"div\", 7);\n        i0.ɵɵtemplate(14, PriceCalculatorComponent_ng_container_14_Template, 14, 5, \"ng-container\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(15, PriceCalculatorComponent_div_15_Template, 11, 4, \"div\", 9);\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngModel\", ctx.selectedTerm);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngForOf\", ctx.productFamilies);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.hasAnySelection());\n      }\n    },\n    directives: [i2.MatCard, i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm, i4.MatButtonToggleGroup, i3.NgControlStatus, i3.NgModel, i4.MatButtonToggle, i5.NgForOf, i2.MatCardTitle, i2.MatCardContent, i6.MatFormField, i6.MatLabel, i7.MatSelect, i8.MatOption, i5.NgIf, i3.MinValidator, i3.MaxValidator, i3.NumberValueAccessor, i3.DefaultValueAccessor, i9.MatIcon, i10.MatSlider],\n    pipes: [i5.CurrencyPipe],\n    styles: [\".calculator-container[_ngcontent-%COMP%]{max-width:400px;margin:2rem auto;background:#fff;border-radius:16px;box-shadow:0 2px 16px #00000014;padding:1.5rem 1.5rem 2rem;display:flex;flex-direction:column;gap:1.5rem}.calculator-header[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin-bottom:.5rem;color:#222;letter-spacing:-.5px}.calculator-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}label[_ngcontent-%COMP%]{font-weight:500;color:#444;margin-bottom:.25rem;display:block}select[_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%]{width:100%;padding:.5rem .75rem;border:1px solid #d1d5db;border-radius:8px;font-size:1rem;margin-bottom:1rem;background:#fafbfc;transition:border .2s}select[_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.button-row[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem}button[_ngcontent-%COMP%]{background:#007bff;color:#fff;border:none;border-radius:8px;padding:.75rem 1.5rem;font-size:1rem;font-weight:600;cursor:pointer;transition:background .2s}button[_ngcontent-%COMP%]:disabled{background:#b3c6e0;cursor:not-allowed}button[_ngcontent-%COMP%]:hover:not(:disabled){background:#0056b3}.result-section[_ngcontent-%COMP%]{background:#f5f7fa;border-radius:10px;padding:1.25rem 1rem;margin-top:1.5rem;text-align:center;font-size:1.2rem;color:#1a3a5d;font-weight:500;box-shadow:0 1px 4px #0000000a}.calculator-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:2rem;padding:2rem;background:#f5f5f5;min-height:100vh}.calculator-page[_ngcontent-%COMP%]   .calculator-form[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;background:white;border-radius:8px}.calculator-page[_ngcontent-%COMP%]   .calculator-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:2rem;color:#1a2b3c}.calculator-form[_ngcontent-%COMP%], .calculator-summary[_ngcontent-%COMP%]{width:100%;max-width:900px;box-sizing:border-box}.calculator-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-gap:24px;gap:24px;margin-bottom:32px}.family-section[_ngcontent-%COMP%]{flex:1 1 350px;min-width:320px;max-width:420px;margin:0 auto 2rem;border:1px solid #e0e0e0;border-radius:8px;box-shadow:0 2px 16px #0000000f;background:#fff;padding:24px}.family-section[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:1.5rem;color:#1a2b3c}mat-card-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;margin-bottom:.5rem}mat-form-field[_ngcontent-%COMP%], .slider-section[_ngcontent-%COMP%]{width:100%;margin-bottom:1.2rem}mat-slider[_ngcontent-%COMP%]{width:100%;margin-top:.5rem}.family-summary[_ngcontent-%COMP%]{margin-top:.5rem;font-size:1.1rem;color:#1a3a5d}.input-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin-bottom:1.2rem}.input-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{min-width:90px;margin-bottom:0;font-weight:500}.input-row[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{width:120px;padding:.5rem .75rem;font-size:1rem;border:1px solid #d1d5db;border-radius:8px;background:#fafbfc;margin-left:0;margin-right:0;box-sizing:border-box}.input-row[_ngcontent-%COMP%]   mat-slider[_ngcontent-%COMP%]{flex:1 1 60%;min-width:180px;margin-right:0}.calculator-row[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;margin-bottom:16px}.input-group[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:16px;margin-bottom:8px}.control-label[_ngcontent-%COMP%]{flex:1}.label-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;margin-bottom:4px}.label-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#374151;font-size:14px;font-weight:500;margin:0}.label-group[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:#6b7280}.label-group[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]:hover{color:#007bff}.calculator-slider[_ngcontent-%COMP%]{width:100%;margin:8px 0}.calculator-slider[_ngcontent-%COMP%]     .mat-slider-track-fill{background-color:#007bff}.calculator-slider[_ngcontent-%COMP%]     .mat-slider-thumb{background-color:#007bff}.mat-card.family-section[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 2px 4px #0000000d}.mat-card.family-section[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]{font-size:18px;margin-bottom:16px;color:#111827}.price-breakdown[_ngcontent-%COMP%]{margin-top:4px;font-size:12px;color:#667085}.unit-price[_ngcontent-%COMP%]{font-weight:500}.pricing-summary[_ngcontent-%COMP%]{margin-top:24px;padding-top:16px;border-top:1px solid #e5e7eb}.summary-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;font-size:14px;color:#4b5563}.summary-total[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:12px;padding-top:12px;border-top:1px solid #e5e7eb;font-weight:600;color:#1a2b3c}.subscription-summary[_ngcontent-%COMP%]{margin-top:32px;padding:24px;background:#f8fafc;border-radius:8px}.subscription-summary[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#1a2b3c;margin-bottom:16px}.subscription-summary[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.subscription-summary[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:12px;border-bottom:1px solid #e5e7eb}.subscription-summary[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;color:#4b5563;font-weight:500}.subscription-summary[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]   .summary-amount[_ngcontent-%COMP%]{font-weight:500;color:#1a2b3c}.subscription-summary[_ngcontent-%COMP%]   .grand-total[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:16px;font-size:1.125rem;font-weight:600;color:#1a2b3c}@media (max-width: 600px){.calculator-container[_ngcontent-%COMP%]{padding:.75rem;max-width:100%}.calculator-header[_ngcontent-%COMP%]{font-size:1.2rem}.calculator-form[_ngcontent-%COMP%], .calculator-summary[_ngcontent-%COMP%]{max-width:100%;padding:.5rem}}@media (max-width: 900px){.calculator-grid[_ngcontent-%COMP%]{flex-direction:column;gap:1.5rem}.family-section.stigg-style[_ngcontent-%COMP%]{max-width:100%;min-width:0}}  .mat-mdc-form-field{width:100%}  .mat-mdc-tooltip{background:#1c2434;font-size:12px;padding:8px 12px;max-width:250px;line-height:1.4}\"]\n  });\n  return PriceCalculatorComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}