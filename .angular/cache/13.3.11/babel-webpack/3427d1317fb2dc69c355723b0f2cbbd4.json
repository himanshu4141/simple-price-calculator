{"ast":null,"code":"import { PricingService } from '../../services/pricing.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/pricing.service\";\nimport * as i2 from \"@angular/material/card\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/material/button-toggle\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/material/form-field\";\nimport * as i7 from \"@angular/material/select\";\nimport * as i8 from \"@angular/material/core\";\nimport * as i9 from \"@angular/material/slider\";\n\nfunction PriceCalculatorComponent_ng_container_14_mat_option_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const plan_r6 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", plan_r6.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(plan_r6.name);\n  }\n}\n\nfunction PriceCalculatorComponent_ng_container_14_div_13_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"label\", 23);\n    i0.ɵɵtext(2, \"Packages\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"mat-slider\", 24);\n    i0.ɵɵlistener(\"ngModelChange\", function PriceCalculatorComponent_ng_container_14_div_13_div_6_Template_mat_slider_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const family_r2 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.selections[family_r2.name].packages = $event;\n    })(\"ngModelChange\", function PriceCalculatorComponent_ng_container_14_div_13_div_6_Template_mat_slider_ngModelChange_3_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r13 = i0.ɵɵnextContext(3);\n      return ctx_r13.calculateTotal();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"input\", 25);\n    i0.ɵɵlistener(\"ngModelChange\", function PriceCalculatorComponent_ng_container_14_div_13_div_6_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const family_r2 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r14 = i0.ɵɵnextContext();\n      return ctx_r14.selections[family_r2.name].packages = $event;\n    })(\"ngModelChange\", function PriceCalculatorComponent_ng_container_14_div_13_div_6_Template_input_ngModelChange_4_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r16 = i0.ɵɵnextContext(3);\n      return ctx_r16.calculateTotal();\n    });\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r17 = i0.ɵɵnextContext(2);\n    const family_r2 = ctx_r17.$implicit;\n    const i_r3 = ctx_r17.index;\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r7.selections[family_r2.name].packages)(\"name\", \"packages-\" + i_r3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r7.selections[family_r2.name].packages);\n  }\n}\n\nfunction PriceCalculatorComponent_ng_container_14_div_13_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"label\", 26);\n    i0.ɵɵtext(2, \"API Calls per Month\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"mat-slider\", 27);\n    i0.ɵɵlistener(\"ngModelChange\", function PriceCalculatorComponent_ng_container_14_div_13_div_7_Template_mat_slider_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r19);\n      const family_r2 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r18 = i0.ɵɵnextContext();\n      return ctx_r18.selections[family_r2.name].apiCalls = $event;\n    })(\"ngModelChange\", function PriceCalculatorComponent_ng_container_14_div_13_div_7_Template_mat_slider_ngModelChange_3_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r21 = i0.ɵɵnextContext(3);\n      return ctx_r21.calculateTotal();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"input\", 28);\n    i0.ɵɵlistener(\"ngModelChange\", function PriceCalculatorComponent_ng_container_14_div_13_div_7_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r19);\n      const family_r2 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r22 = i0.ɵɵnextContext();\n      return ctx_r22.selections[family_r2.name].apiCalls = $event;\n    })(\"ngModelChange\", function PriceCalculatorComponent_ng_container_14_div_13_div_7_Template_input_ngModelChange_4_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r24 = i0.ɵɵnextContext(3);\n      return ctx_r24.calculateTotal();\n    });\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r25 = i0.ɵɵnextContext(2);\n    const family_r2 = ctx_r25.$implicit;\n    const i_r3 = ctx_r25.index;\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r8.selections[family_r2.name].apiCalls)(\"name\", \"apiCalls-\" + i_r3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r8.selections[family_r2.name].apiCalls);\n  }\n}\n\nfunction PriceCalculatorComponent_ng_container_14_div_13_div_8_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"currency\");\n    i0.ɵɵelementStart(4, \"strong\");\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 31);\n    i0.ɵɵtext(8, \"Per seat cost: \");\n    i0.ɵɵelementStart(9, \"strong\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementStart(16, \"span\");\n    i0.ɵɵtext(17);\n    i0.ɵɵpipe(18, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19, \" = \");\n    i0.ɵɵelementStart(20, \"strong\");\n    i0.ɵɵtext(21);\n    i0.ɵɵpipe(22, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"div\");\n    i0.ɵɵtext(24);\n    i0.ɵɵelementStart(25, \"span\");\n    i0.ɵɵtext(26);\n    i0.ɵɵpipe(27, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(28, \" = \");\n    i0.ɵɵelementStart(29, \"strong\");\n    i0.ɵɵtext(30);\n    i0.ɵɵpipe(31, \"currency\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const family_r2 = i0.ɵɵnextContext(3).$implicit;\n    const ctx_r26 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"Seats: \", ctx_r26.selections[family_r2.name].seats, \" \\u00D7 \", i0.ɵɵpipeBind1(3, 11, ctx_r26.selections[family_r2.name].breakdown.seatUnitPrice), \" = \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(6, 13, ctx_r26.selections[family_r2.name].breakdown.seatCost));\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(11, 15, ctx_r26.selections[family_r2.name].breakdown.seatUnitPrice));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Free packages: \", ctx_r26.selections[family_r2.name].breakdown.freePackages, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Extra packages: \", ctx_r26.selections[family_r2.name].breakdown.extraPackages, \" \\u00D7 \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(18, 17, ctx_r26.getSelectedPlanPrice(family_r2.name, \"packagePrice\")));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(22, 19, ctx_r26.selections[family_r2.name].breakdown.packageCost));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"API calls: \", ctx_r26.selections[family_r2.name].apiCalls, \" \\u00D7 \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(27, 21, ctx_r26.getSelectedPlanPrice(family_r2.name, \"apiPrice\")));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(31, 23, ctx_r26.selections[family_r2.name].breakdown.apiCost));\n  }\n}\n\nfunction PriceCalculatorComponent_ng_container_14_div_13_div_8_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"currency\");\n    i0.ɵɵelementStart(4, \"strong\");\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"currency\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const family_r2 = i0.ɵɵnextContext(3).$implicit;\n    const ctx_r27 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"Seats: \", ctx_r27.selections[family_r2.name].seats, \" \\u00D7 \", i0.ɵɵpipeBind1(3, 3, ctx_r27.selections[family_r2.name].breakdown.seatUnitPrice), \" = \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(6, 5, ctx_r27.selections[family_r2.name].breakdown.seatCost));\n  }\n}\n\nfunction PriceCalculatorComponent_ng_container_14_div_13_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29);\n    i0.ɵɵtemplate(1, PriceCalculatorComponent_ng_container_14_div_13_div_8_div_1_Template, 32, 25, \"div\", 15);\n    i0.ɵɵtemplate(2, PriceCalculatorComponent_ng_container_14_div_13_div_8_div_2_Template, 7, 7, \"div\", 15);\n    i0.ɵɵelementStart(3, \"div\", 30);\n    i0.ɵɵtext(4, \"Subtotal: \");\n    i0.ɵɵelementStart(5, \"strong\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"currency\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const family_r2 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", family_r2.name === \"Nitro Sign\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", family_r2.name !== \"Nitro Sign\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(7, 3, ctx_r9.selections[family_r2.name].totalPrice));\n  }\n}\n\nfunction PriceCalculatorComponent_ng_container_14_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r32 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 17)(2, \"label\", 18);\n    i0.ɵɵtext(3, \"Seats\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"mat-slider\", 19);\n    i0.ɵɵlistener(\"ngModelChange\", function PriceCalculatorComponent_ng_container_14_div_13_Template_mat_slider_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r32);\n      const family_r2 = i0.ɵɵnextContext().$implicit;\n      const ctx_r31 = i0.ɵɵnextContext();\n      return ctx_r31.selections[family_r2.name].seats = $event;\n    })(\"ngModelChange\", function PriceCalculatorComponent_ng_container_14_div_13_Template_mat_slider_ngModelChange_4_listener() {\n      i0.ɵɵrestoreView(_r32);\n      const ctx_r34 = i0.ɵɵnextContext(2);\n      return ctx_r34.calculateTotal();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"input\", 20);\n    i0.ɵɵlistener(\"ngModelChange\", function PriceCalculatorComponent_ng_container_14_div_13_Template_input_ngModelChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r32);\n      const family_r2 = i0.ɵɵnextContext().$implicit;\n      const ctx_r35 = i0.ɵɵnextContext();\n      return ctx_r35.selections[family_r2.name].seats = $event;\n    })(\"ngModelChange\", function PriceCalculatorComponent_ng_container_14_div_13_Template_input_ngModelChange_5_listener() {\n      i0.ɵɵrestoreView(_r32);\n      const ctx_r37 = i0.ɵɵnextContext(2);\n      return ctx_r37.calculateTotal();\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(6, PriceCalculatorComponent_ng_container_14_div_13_div_6_Template, 5, 3, \"div\", 21);\n    i0.ɵɵtemplate(7, PriceCalculatorComponent_ng_container_14_div_13_div_7_Template, 5, 3, \"div\", 21);\n    i0.ɵɵtemplate(8, PriceCalculatorComponent_ng_container_14_div_13_div_8_Template, 8, 5, \"div\", 22);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r38 = i0.ɵɵnextContext();\n    const family_r2 = ctx_r38.$implicit;\n    const i_r3 = ctx_r38.index;\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r5.selections[family_r2.name].seats)(\"name\", \"seats-\" + i_r3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r5.selections[family_r2.name].seats);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.showSignOptions(family_r2.name));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.showSignOptions(family_r2.name));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.selections[family_r2.name].totalPrice !== null);\n  }\n}\n\nfunction PriceCalculatorComponent_ng_container_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r40 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"mat-card\", 10)(2, \"mat-card-title\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"mat-card-content\")(5, \"div\", 3)(6, \"mat-form-field\", 11)(7, \"mat-label\");\n    i0.ɵɵtext(8, \"Plan\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"mat-select\", 12);\n    i0.ɵɵlistener(\"ngModelChange\", function PriceCalculatorComponent_ng_container_14_Template_mat_select_ngModelChange_9_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r40);\n      const family_r2 = restoredCtx.$implicit;\n      const ctx_r39 = i0.ɵɵnextContext();\n      return ctx_r39.selections[family_r2.name].selectedPlan = $event;\n    })(\"selectionChange\", function PriceCalculatorComponent_ng_container_14_Template_mat_select_selectionChange_9_listener() {\n      i0.ɵɵrestoreView(_r40);\n      const ctx_r41 = i0.ɵɵnextContext();\n      return ctx_r41.calculateTotal();\n    });\n    i0.ɵɵelementStart(10, \"mat-option\", 13);\n    i0.ɵɵtext(11, \"Select a plan\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(12, PriceCalculatorComponent_ng_container_14_mat_option_12_Template, 2, 2, \"mat-option\", 14);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(13, PriceCalculatorComponent_ng_container_14_div_13_Template, 9, 6, \"div\", 15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const family_r2 = ctx.$implicit;\n    const i_r3 = ctx.index;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(family_r2.name);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.selections[family_r2.name].selectedPlan)(\"name\", \"plan-\" + i_r3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.getPlans(family_r2.name));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.selections[family_r2.name].selectedPlan);\n  }\n}\n\nfunction PriceCalculatorComponent_mat_card_15_span_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"year\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PriceCalculatorComponent_mat_card_15_span_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"year (3-year contract)\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PriceCalculatorComponent_mat_card_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\", 32)(1, \"h2\");\n    i0.ɵɵtext(2, \"Total Subscription Price\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 33);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 34);\n    i0.ɵɵtext(7, \" per \");\n    i0.ɵɵtemplate(8, PriceCalculatorComponent_mat_card_15_span_8_Template, 2, 0, \"span\", 15);\n    i0.ɵɵtemplate(9, PriceCalculatorComponent_mat_card_15_span_9_Template, 2, 0, \"span\", 15);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 3, ctx_r1.combinedTotal));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.selectedTerm === \"1year\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.selectedTerm === \"3year\");\n  }\n}\n\nexport let PriceCalculatorComponent = /*#__PURE__*/(() => {\n  class PriceCalculatorComponent {\n    constructor(pricingService) {\n      this.pricingService = pricingService;\n      this.productFamilies = [];\n      this.selectedTerm = '1year'; // State for each product family\n\n      this.selections = {};\n      this.combinedTotal = null;\n    }\n\n    ngOnInit() {\n      this.pricingService.fetchPricingData().subscribe(data => {\n        if (data && Array.isArray(data.productFamilies)) {\n          this.productFamilies = data.productFamilies; // Initialize state for each family\n\n          for (const family of this.productFamilies) {\n            this.selections[family.name] = {\n              selectedPlan: '',\n              seats: 1,\n              packages: 0,\n              apiCalls: 0,\n              totalPrice: null\n            };\n          }\n        }\n      });\n    }\n\n    getPlans(familyName) {\n      const family = this.productFamilies.find(f => f.name === familyName);\n      return family ? family.plans : [];\n    }\n\n    showSignOptions(familyName) {\n      var _a;\n\n      return familyName === 'Nitro Sign' && !!((_a = this.selections[familyName]) === null || _a === void 0 ? void 0 : _a.selectedPlan);\n    }\n\n    calculateTotal() {\n      let total = 0;\n\n      for (const family of this.productFamilies) {\n        const sel = this.selections[family.name];\n\n        if (!sel.selectedPlan) {\n          sel.totalPrice = null;\n          continue;\n        } // Calculate price breakdown for Nitro Sign (with free packages)\n\n\n        let price = this.pricingService.calculatePrice(family, sel.selectedPlan, sel.seats, sel.packages, sel.apiCalls, this.selectedTerm); // For Nitro Sign, show breakdown\n\n        if (family.name === 'Nitro Sign') {\n          const plan = family.plans.find(p => p.name === sel.selectedPlan);\n\n          if (plan) {\n            const freePackages = (plan.freePackagesPerSeat || 0) * sel.seats;\n            const extraPackages = Math.max(0, sel.packages - freePackages);\n            const packageCost = extraPackages * (plan.packagePrice || 0);\n            const apiCost = sel.apiCalls * (plan.apiPrice || 0);\n            const seatUnitPrice = this.pricingService.getRampPrice(plan, sel.seats, this.selectedTerm);\n            const seatCost = seatUnitPrice * sel.seats;\n            sel.breakdown = {\n              seatCost,\n              packageCost,\n              apiCost,\n              freePackages,\n              extraPackages\n            };\n            price = seatCost + packageCost + apiCost;\n          }\n        } else {\n          // For PDF, just show seat cost\n          const plan = family.plans.find(p => p.name === sel.selectedPlan);\n\n          if (plan) {\n            const seatUnitPrice = this.pricingService.getRampPrice(plan, sel.seats, this.selectedTerm);\n            const seatCost = seatUnitPrice * sel.seats;\n            sel.breakdown = {\n              seatCost,\n              seatUnitPrice\n            };\n          }\n        }\n\n        sel.totalPrice = price;\n        total += sel.totalPrice || 0;\n      }\n\n      this.combinedTotal = total > 0 ? total : null;\n    }\n\n    getSelectedPlanPrice(familyName, priceType) {\n      const plan = this.getPlans(familyName).find(p => p.name === this.selections[familyName].selectedPlan);\n      const value = plan && typeof plan[priceType] === 'number' ? plan[priceType] : 0;\n      return value;\n    }\n\n  }\n\n  PriceCalculatorComponent.ɵfac = function PriceCalculatorComponent_Factory(t) {\n    return new (t || PriceCalculatorComponent)(i0.ɵɵdirectiveInject(i1.PricingService));\n  };\n\n  PriceCalculatorComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PriceCalculatorComponent,\n    selectors: [[\"app-price-calculator\"]],\n    decls: 16,\n    vars: 3,\n    consts: [[1, \"calculator-page\"], [1, \"calculator-form\"], [\"autocomplete\", \"off\"], [1, \"form-section\"], [\"name\", \"term\", \"exclusive\", \"\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"value\", \"1year\"], [\"value\", \"3year\"], [1, \"calculator-grid\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"calculator-summary\", 4, \"ngIf\"], [1, \"family-section\", \"stigg-style\", 2, \"margin-bottom\", \"24px\"], [\"appearance\", \"fill\", 2, \"width\", \"100%\"], [3, \"ngModel\", \"name\", \"ngModelChange\", \"selectionChange\"], [\"value\", \"\", \"disabled\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [3, \"value\"], [1, \"form-section\", \"slider-section\", \"input-row\"], [\"for\", \"seatsInput\"], [\"min\", \"1\", \"max\", \"50000\", \"step\", \"1\", \"thumbLabel\", \"\", \"tickInterval\", \"1000\", 2, \"flex\", \"1 1 60%\", \"min-width\", \"180px\", \"margin-right\", \"16px\", 3, \"ngModel\", \"name\", \"ngModelChange\"], [\"id\", \"seatsInput\", \"type\", \"number\", \"min\", \"1\", \"max\", \"50000\", 2, \"width\", \"180px\", \"margin-left\", \"12px\", \"display\", \"inline-block\", \"vertical-align\", \"middle\", 3, \"ngModel\", \"ngModelChange\"], [\"class\", \"form-section slider-section input-row\", 4, \"ngIf\"], [\"class\", \"family-summary\", \"style\", \"margin-top: 12px;\", 4, \"ngIf\"], [\"for\", \"packagesInput\", \"matTooltip\", \"Number of signing workflows completed by a user either via a UI or official Nitro sign connector\"], [\"min\", \"0\", \"max\", \"100000\", \"step\", \"10\", \"thumbLabel\", \"\", \"tickInterval\", \"10000\", 2, \"flex\", \"1 1 60%\", \"min-width\", \"180px\", \"margin-right\", \"16px\", 3, \"ngModel\", \"name\", \"ngModelChange\"], [\"id\", \"packagesInput\", \"type\", \"number\", \"min\", \"0\", \"max\", \"100000\", 2, \"width\", \"180px\", \"margin-left\", \"12px\", \"display\", \"inline-block\", \"vertical-align\", \"middle\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"apiCallsInput\", \"matTooltip\", \"Signing workflow completed or any API calls made in a machine to machine automation scenario.\"], [\"min\", \"0\", \"max\", \"100000\", \"step\", \"100\", \"thumbLabel\", \"\", \"tickInterval\", \"10000\", 2, \"flex\", \"1 1 60%\", \"min-width\", \"180px\", \"margin-right\", \"16px\", 3, \"ngModel\", \"name\", \"ngModelChange\"], [\"id\", \"apiCallsInput\", \"type\", \"number\", \"min\", \"0\", \"max\", \"100000\", 2, \"width\", \"180px\", \"margin-left\", \"12px\", \"display\", \"inline-block\", \"vertical-align\", \"middle\", 3, \"ngModel\", \"ngModelChange\"], [1, \"family-summary\", 2, \"margin-top\", \"12px\"], [2, \"margin-top\", \"0.5rem\"], [1, \"per-seat-note\"], [1, \"calculator-summary\"], [1, \"total-price\"], [1, \"period\"]],\n    template: function PriceCalculatorComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"mat-card\", 1)(2, \"h2\");\n        i0.ɵɵtext(3, \"Price Calculator\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"form\", 2)(5, \"div\", 3)(6, \"label\");\n        i0.ɵɵtext(7, \"Term:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"mat-button-toggle-group\", 4);\n        i0.ɵɵlistener(\"ngModelChange\", function PriceCalculatorComponent_Template_mat_button_toggle_group_ngModelChange_8_listener($event) {\n          return ctx.selectedTerm = $event;\n        })(\"change\", function PriceCalculatorComponent_Template_mat_button_toggle_group_change_8_listener() {\n          return ctx.calculateTotal();\n        });\n        i0.ɵɵelementStart(9, \"mat-button-toggle\", 5);\n        i0.ɵɵtext(10, \"1 Year\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"mat-button-toggle\", 6);\n        i0.ɵɵtext(12, \"3 Years\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(13, \"div\", 7);\n        i0.ɵɵtemplate(14, PriceCalculatorComponent_ng_container_14_Template, 14, 5, \"ng-container\", 8);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(15, PriceCalculatorComponent_mat_card_15_Template, 10, 5, \"mat-card\", 9);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngModel\", ctx.selectedTerm);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngForOf\", ctx.productFamilies);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.combinedTotal !== null);\n      }\n    },\n    directives: [i2.MatCard, i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm, i4.MatButtonToggleGroup, i3.NgControlStatus, i3.NgModel, i4.MatButtonToggle, i5.NgForOf, i2.MatCardTitle, i2.MatCardContent, i6.MatFormField, i6.MatLabel, i7.MatSelect, i8.MatOption, i5.NgIf, i9.MatSlider, i3.MinValidator, i3.MaxValidator, i3.NumberValueAccessor, i3.DefaultValueAccessor],\n    pipes: [i5.CurrencyPipe],\n    styles: [\".calculator-container[_ngcontent-%COMP%]{max-width:400px;margin:2rem auto;background:#fff;border-radius:16px;box-shadow:0 2px 16px #00000014;padding:1.5rem 1.5rem 2rem;display:flex;flex-direction:column;gap:1.5rem}.calculator-header[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin-bottom:.5rem;color:#222;letter-spacing:-.5px}.calculator-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}label[_ngcontent-%COMP%]{font-weight:500;color:#444;margin-bottom:.25rem;display:block}select[_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%]{width:100%;padding:.5rem .75rem;border:1px solid #d1d5db;border-radius:8px;font-size:1rem;margin-bottom:1rem;background:#fafbfc;transition:border .2s}select[_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus{border-color:#0070f3;outline:none}.button-row[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem}button[_ngcontent-%COMP%]{background:#0070f3;color:#fff;border:none;border-radius:8px;padding:.75rem 1.5rem;font-size:1rem;font-weight:600;cursor:pointer;transition:background .2s}button[_ngcontent-%COMP%]:disabled{background:#b3c6e0;cursor:not-allowed}button[_ngcontent-%COMP%]:hover:not(:disabled){background:#0059c1}.result-section[_ngcontent-%COMP%]{background:#f5f7fa;border-radius:10px;padding:1.25rem 1rem;margin-top:1.5rem;text-align:center;font-size:1.2rem;color:#1a3a5d;font-weight:500;box-shadow:0 1px 4px #0000000a}.calculator-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:2rem;padding:2rem 0}.calculator-form[_ngcontent-%COMP%], .calculator-summary[_ngcontent-%COMP%]{width:100%;max-width:900px;box-sizing:border-box}.calculator-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:2rem;justify-content:space-between}.family-section.stigg-style[_ngcontent-%COMP%]{flex:1 1 350px;min-width:320px;max-width:420px;margin:0 auto 2rem;border:1px solid #e0e0e0;border-radius:16px;box-shadow:0 2px 16px #0000000f;background:#fff;padding-bottom:1rem}mat-card-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;margin-bottom:.5rem}mat-form-field[_ngcontent-%COMP%], .slider-section[_ngcontent-%COMP%]{width:100%;margin-bottom:1.2rem}mat-slider[_ngcontent-%COMP%]{width:100%;margin-top:.5rem}.family-summary[_ngcontent-%COMP%]{margin-top:.5rem;font-size:1.1rem;color:#1a3a5d}.input-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin-bottom:1.2rem}.input-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{min-width:90px;margin-bottom:0;font-weight:500}.input-row[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{width:140px;min-width:0;max-width:180px;padding:.5rem .75rem;font-size:1rem;border:1px solid #d1d5db;border-radius:8px;background:#fafbfc;margin-left:0;margin-right:0;box-sizing:border-box}.input-row[_ngcontent-%COMP%]   mat-slider[_ngcontent-%COMP%]{flex:1 1 60%;min-width:180px;margin-right:0}@media (max-width: 600px){.calculator-container[_ngcontent-%COMP%]{padding:.75rem;max-width:100%}.calculator-header[_ngcontent-%COMP%]{font-size:1.2rem}.calculator-form[_ngcontent-%COMP%], .calculator-summary[_ngcontent-%COMP%]{max-width:100%;padding:.5rem}}@media (max-width: 900px){.calculator-grid[_ngcontent-%COMP%]{flex-direction:column;gap:1.5rem}.family-section.stigg-style[_ngcontent-%COMP%]{max-width:100%;min-width:0}}\"]\n  });\n  return PriceCalculatorComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}