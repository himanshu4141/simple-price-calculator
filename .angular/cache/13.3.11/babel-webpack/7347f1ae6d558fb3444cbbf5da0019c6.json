{"ast":null,"code":"import { PricingService } from '../../services/pricing.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/pricing.service\";\nimport * as i2 from \"@angular/material/card\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/material/button-toggle\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/material/form-field\";\nimport * as i7 from \"@angular/material/select\";\nimport * as i8 from \"@angular/material/core\";\nimport * as i9 from \"@angular/material/icon\";\nimport * as i10 from \"@angular/material/slider\";\n\nfunction PriceCalculatorComponent_ng_container_14_mat_option_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 19)(1, \"div\", 20)(2, \"span\", 21);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 22);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"currency\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const plan_r6 = ctx.$implicit;\n    const family_r2 = i0.ɵɵnextContext().$implicit;\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"value\", plan_r6.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(plan_r6.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(6, 3, ctx_r4.getBasePrice(family_r2.name, plan_r6.name)), \"/month \");\n  }\n}\n\nfunction PriceCalculatorComponent_ng_container_14_div_14_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 24)(1, \"div\", 25)(2, \"input\", 38);\n    i0.ɵɵlistener(\"ngModelChange\", function PriceCalculatorComponent_ng_container_14_div_14_div_15_Template_input_ngModelChange_2_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const family_r2 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r12 = i0.ɵɵnextContext();\n      return ctx_r12.selections[family_r2.name].packages = $event;\n    })(\"ngModelChange\", function PriceCalculatorComponent_ng_container_14_div_14_div_15_Template_input_ngModelChange_2_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r15 = i0.ɵɵnextContext(3);\n      return ctx_r15.calculateTotal();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 27)(4, \"div\", 28)(5, \"label\", 29);\n    i0.ɵɵtext(6, \"Package subscriptions\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"mat-icon\", 30);\n    i0.ɵɵtext(8, \"help_outline\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 31);\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"currency\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(12, \"mat-slider\", 39);\n    i0.ɵɵlistener(\"ngModelChange\", function PriceCalculatorComponent_ng_container_14_div_14_div_15_Template_mat_slider_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const family_r2 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r16 = i0.ɵɵnextContext();\n      return ctx_r16.selections[family_r2.name].packages = $event;\n    })(\"ngModelChange\", function PriceCalculatorComponent_ng_container_14_div_14_div_15_Template_mat_slider_ngModelChange_12_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r18 = i0.ɵɵnextContext(3);\n      return ctx_r18.calculateTotal();\n    });\n    i0.ɵɵelement(13, \"input\", 40);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r19 = i0.ɵɵnextContext(2);\n    const i_r3 = ctx_r19.index;\n    const family_r2 = ctx_r19.$implicit;\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"packagesInput\", i_r3, \"\");\n    i0.ɵɵproperty(\"ngModel\", ctx_r8.selections[family_r2.name].packages)(\"name\", \"packages-\" + i_r3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"for\", \"packagesInput\" + i_r3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"matTooltip\", \"Number of document signing packages per month. One package can include multiple documents and signers.\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(11, 11, ctx_r8.getUnitPrice(family_r2.name, \"packages\")), \"/package \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"discrete\", true)(\"showTickMarks\", true)(\"displayWith\", ctx_r8.formatSliderLabel)(\"ngModel\", ctx_r8.selections[family_r2.name].packages)(\"name\", \"packages-slider-\" + i_r3);\n  }\n}\n\nfunction PriceCalculatorComponent_ng_container_14_div_14_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 41)(1, \"span\");\n    i0.ɵɵtext(2, \"Base price\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const family_r2 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(5, 1, ctx_r9.getPlanBasePrice(family_r2.name, ctx_r9.selections[family_r2.name].selectedPlan)), \"/month\");\n  }\n}\n\nfunction PriceCalculatorComponent_ng_container_14_div_14_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 41)(1, \"span\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const family_r2 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Seats (\", ctx_r10.selections[family_r2.name].seats, \")\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(5, 2, ctx_r10.getSeatsCost(family_r2.name)), \"/month\");\n  }\n}\n\nfunction PriceCalculatorComponent_ng_container_14_div_14_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 41)(1, \"span\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const family_r2 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r11 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Packages (\", ctx_r11.selections[family_r2.name].packages, \")\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(5, 2, ctx_r11.getPackagesCost(family_r2.name)), \"/month\");\n  }\n}\n\nfunction PriceCalculatorComponent_ng_container_14_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 23)(1, \"div\", 24)(2, \"div\", 25)(3, \"input\", 26);\n    i0.ɵɵlistener(\"ngModelChange\", function PriceCalculatorComponent_ng_container_14_div_14_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r24);\n      const family_r2 = i0.ɵɵnextContext().$implicit;\n      const ctx_r23 = i0.ɵɵnextContext();\n      return ctx_r23.selections[family_r2.name].seats = $event;\n    })(\"ngModelChange\", function PriceCalculatorComponent_ng_container_14_div_14_Template_input_ngModelChange_3_listener() {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r26 = i0.ɵɵnextContext(2);\n      return ctx_r26.calculateTotal();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 27)(5, \"div\", 28)(6, \"label\", 29);\n    i0.ɵɵtext(7, \"Seats\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"mat-icon\", 30);\n    i0.ɵɵtext(9, \"help_outline\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 31);\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"currency\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(13, \"mat-slider\", 32);\n    i0.ɵɵlistener(\"ngModelChange\", function PriceCalculatorComponent_ng_container_14_div_14_Template_mat_slider_ngModelChange_13_listener($event) {\n      i0.ɵɵrestoreView(_r24);\n      const family_r2 = i0.ɵɵnextContext().$implicit;\n      const ctx_r27 = i0.ɵɵnextContext();\n      return ctx_r27.selections[family_r2.name].seats = $event;\n    })(\"ngModelChange\", function PriceCalculatorComponent_ng_container_14_div_14_Template_mat_slider_ngModelChange_13_listener() {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r29 = i0.ɵɵnextContext(2);\n      return ctx_r29.calculateTotal();\n    });\n    i0.ɵɵelement(14, \"input\", 33);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(15, PriceCalculatorComponent_ng_container_14_div_14_div_15_Template, 14, 13, \"div\", 34);\n    i0.ɵɵelementStart(16, \"div\", 35);\n    i0.ɵɵtemplate(17, PriceCalculatorComponent_ng_container_14_div_14_div_17_Template, 6, 3, \"div\", 36);\n    i0.ɵɵtemplate(18, PriceCalculatorComponent_ng_container_14_div_14_div_18_Template, 6, 4, \"div\", 36);\n    i0.ɵɵtemplate(19, PriceCalculatorComponent_ng_container_14_div_14_div_19_Template, 6, 4, \"div\", 36);\n    i0.ɵɵelementStart(20, \"div\", 37)(21, \"span\");\n    i0.ɵɵtext(22, \"Total\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"span\");\n    i0.ɵɵtext(24);\n    i0.ɵɵpipe(25, \"currency\");\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r30 = i0.ɵɵnextContext();\n    const i_r3 = ctx_r30.index;\n    const family_r2 = ctx_r30.$implicit;\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"seatsInput\", i_r3, \"\");\n    i0.ɵɵproperty(\"ngModel\", ctx_r5.selections[family_r2.name].seats)(\"name\", \"seats-\" + i_r3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"for\", \"seatsInput\" + i_r3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"matTooltip\", ctx_r5.getSeatsTooltip(family_r2.name));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(12, 19, ctx_r5.getUnitPrice(family_r2.name, \"seats\")), \"/seat/month \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"min\", 1)(\"max\", 50000)(\"step\", 1)(\"discrete\", true)(\"showTickMarks\", true)(\"ngModel\", ctx_r5.selections[family_r2.name].seats)(\"name\", \"seats-slider-\" + i_r3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"value\", ctx_r5.selections[family_r2.name].seats);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.showSignOptions(family_r2.name));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.getPlanBasePrice(family_r2.name, ctx_r5.selections[family_r2.name].selectedPlan) > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.selections[family_r2.name].seats > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.selections[family_r2.name].packages > 0);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(25, 21, ctx_r5.getFamilyTotal(family_r2.name)), \"/month\");\n  }\n}\n\nfunction PriceCalculatorComponent_ng_container_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r32 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"mat-card\", 10)(2, \"mat-card-title\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"mat-card-content\")(5, \"div\", 11)(6, \"div\", 12)(7, \"div\", 13);\n    i0.ɵɵtext(8, \"Select Plan\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"mat-form-field\", 14)(10, \"mat-select\", 15);\n    i0.ɵɵlistener(\"ngModelChange\", function PriceCalculatorComponent_ng_container_14_Template_mat_select_ngModelChange_10_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r32);\n      const family_r2 = restoredCtx.$implicit;\n      const ctx_r31 = i0.ɵɵnextContext();\n      return ctx_r31.selections[family_r2.name].selectedPlan = $event;\n    })(\"selectionChange\", function PriceCalculatorComponent_ng_container_14_Template_mat_select_selectionChange_10_listener() {\n      i0.ɵɵrestoreView(_r32);\n      const ctx_r33 = i0.ɵɵnextContext();\n      return ctx_r33.calculateTotal();\n    });\n    i0.ɵɵelementStart(11, \"mat-option\", 16);\n    i0.ɵɵtext(12, \"Select a plan\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(13, PriceCalculatorComponent_ng_container_14_mat_option_13_Template, 7, 5, \"mat-option\", 17);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵtemplate(14, PriceCalculatorComponent_ng_container_14_div_14_Template, 26, 23, \"div\", 18);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const family_r2 = ctx.$implicit;\n    const i_r3 = ctx.index;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(family_r2.name);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.selections[family_r2.name].selectedPlan)(\"name\", \"plan-\" + i_r3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.getPlans(family_r2.name));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.selections[family_r2.name].selectedPlan);\n  }\n}\n\nfunction PriceCalculatorComponent_div_15_ng_container_4_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 46)(1, \"h4\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 47);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const family_r35 = i0.ɵɵnextContext().$implicit;\n    const ctx_r36 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(family_r35.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(5, 2, ctx_r36.getFamilyTotal(family_r35.name)), \"/month\");\n  }\n}\n\nfunction PriceCalculatorComponent_div_15_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, PriceCalculatorComponent_div_15_ng_container_4_div_1_Template, 6, 4, \"div\", 45);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const family_r35 = ctx.$implicit;\n    const ctx_r34 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r34.selections[family_r35.name].selectedPlan);\n  }\n}\n\nfunction PriceCalculatorComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 42)(1, \"h3\");\n    i0.ɵɵtext(2, \"Total Subscription\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 43);\n    i0.ɵɵtemplate(4, PriceCalculatorComponent_div_15_ng_container_4_Template, 2, 1, \"ng-container\", 8);\n    i0.ɵɵelementStart(5, \"div\", 44)(6, \"span\");\n    i0.ɵɵtext(7, \"Total Subscription Cost\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"span\");\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"currency\");\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.productFamilies);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(10, 2, ctx_r1.calculateTotal()), \"/month\");\n  }\n}\n\nexport let PriceCalculatorComponent = /*#__PURE__*/(() => {\n  class PriceCalculatorComponent {\n    constructor(pricingService) {\n      this.pricingService = pricingService;\n      this.productFamilies = [];\n      this.selectedTerm = '1year';\n      this.selections = {};\n    }\n\n    ngOnInit() {\n      this.pricingService.fetchPricingData().subscribe(data => {\n        if (data && Array.isArray(data.productFamilies)) {\n          this.productFamilies = data.productFamilies; // Initialize selections\n\n          this.productFamilies.forEach(family => {\n            this.selections[family.name] = {\n              selectedPlan: '',\n              seats: 1,\n              packages: 0,\n              apiCalls: 0,\n              totalPrice: 0,\n              breakdown: {\n                baseCost: 0,\n                seatCost: 0,\n                seatUnitPrice: 0\n              }\n            };\n          });\n        }\n      });\n    }\n\n    getPlans(familyName) {\n      const family = this.productFamilies.find(f => f.name === familyName);\n      return (family === null || family === void 0 ? void 0 : family.plans) || [];\n    }\n\n    showSignOptions(familyName) {\n      var _a;\n\n      return familyName === 'Nitro Sign' && !!((_a = this.selections[familyName]) === null || _a === void 0 ? void 0 : _a.selectedPlan);\n    }\n\n    getSeatsTooltip(familyName) {\n      switch (familyName) {\n        case 'Nitro PDF':\n          return 'Number of team members who need access to Nitro PDF Pro features. Each seat allows one user to create, edit, and collaborate on PDF documents.';\n\n        case 'Nitro Sign':\n          return 'Number of users who need access to electronic signature capabilities. Each seat allows one team member to send, sign, and manage documents for signing.';\n\n        default:\n          return 'Number of user licenses required';\n      }\n    }\n\n    getUnitPrice(familyName, type) {\n      const selection = this.selections[familyName];\n      if (!(selection === null || selection === void 0 ? void 0 : selection.selectedPlan)) return 0;\n      const family = this.productFamilies.find(f => f.name === familyName);\n      const plan = family === null || family === void 0 ? void 0 : family.plans.find(p => p.name === selection.selectedPlan);\n      if (!plan) return 0;\n      const pricing = this.selectedTerm === '1year' ? plan.oneYearPricing : plan.threeYearPricing;\n      const seats = selection.seats; // Find the applicable price tier\n\n      const tier = pricing.slice().reverse().find(t => seats >= t.minSeats);\n\n      switch (type) {\n        case 'seats':\n          return (tier === null || tier === void 0 ? void 0 : tier.price) || 0;\n\n        case 'packages':\n          return plan.packagePrice || 0;\n\n        case 'apiCalls':\n          return plan.apiPrice || 0;\n\n        default:\n          return 0;\n      }\n    }\n\n    calculatePriceBreakdown(familyName) {\n      const selection = this.selections[familyName];\n\n      if (!(selection === null || selection === void 0 ? void 0 : selection.selectedPlan)) {\n        return {\n          baseCost: 0,\n          seatCost: 0,\n          seatUnitPrice: 0\n        };\n      }\n\n      const seatUnitPrice = this.getUnitPrice(familyName, 'seats');\n      const seatCost = seatUnitPrice * selection.seats;\n      const breakdown = {\n        baseCost: 0,\n        seatCost,\n        seatUnitPrice\n      };\n\n      if (familyName === 'Nitro Sign') {\n        const family = this.productFamilies.find(f => f.name === familyName);\n        const plan = family === null || family === void 0 ? void 0 : family.plans.find(p => p.name === selection.selectedPlan);\n\n        if (plan) {\n          const freePackages = (plan.freePackagesPerSeat || 0) * selection.seats;\n          const extraPackages = Math.max(0, selection.packages - freePackages);\n          const packageUnitPrice = this.getUnitPrice(familyName, 'packages');\n          const apiUnitPrice = this.getUnitPrice(familyName, 'apiCalls');\n          breakdown.freePackages = freePackages;\n          breakdown.extraPackages = extraPackages;\n          breakdown.packageCost = extraPackages * packageUnitPrice;\n          breakdown.apiCost = selection.apiCalls * apiUnitPrice;\n        }\n      }\n\n      return breakdown;\n    }\n\n    calculateTotal() {\n      for (const family of this.productFamilies) {\n        const selection = this.selections[family.name];\n        if (!selection.selectedPlan) continue;\n        const breakdown = this.calculatePriceBreakdown(family.name);\n        selection.breakdown = breakdown;\n        selection.totalPrice = breakdown.baseCost + breakdown.seatCost + (breakdown.packageCost || 0) + (breakdown.apiCost || 0);\n      }\n    }\n\n    getFamilyTotal(familyName) {\n      var _a;\n\n      return ((_a = this.selections[familyName]) === null || _a === void 0 ? void 0 : _a.totalPrice) || 0;\n    }\n\n    hasAnySelection() {\n      return Object.values(this.selections).some(selection => selection.selectedPlan);\n    }\n\n    formatSliderLabel(value) {\n      if (value >= 1000) {\n        return `${(value / 1000).toFixed(1)}k`;\n      }\n\n      return `${value}`;\n    }\n\n  }\n\n  PriceCalculatorComponent.ɵfac = function PriceCalculatorComponent_Factory(t) {\n    return new (t || PriceCalculatorComponent)(i0.ɵɵdirectiveInject(i1.PricingService));\n  };\n\n  PriceCalculatorComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PriceCalculatorComponent,\n    selectors: [[\"app-price-calculator\"]],\n    decls: 16,\n    vars: 3,\n    consts: [[1, \"calculator-page\"], [1, \"calculator-form\"], [\"autocomplete\", \"off\"], [1, \"form-section\", \"term-section\"], [\"name\", \"term\", \"exclusive\", \"\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"value\", \"1year\"], [\"value\", \"3year\"], [1, \"calculator-grid\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"subscription-summary\", 4, \"ngIf\"], [1, \"family-section\"], [1, \"form-section\"], [1, \"select-wrapper\"], [1, \"select-label\"], [\"appearance\", \"outline\", 1, \"plan-select\"], [\"panelClass\", \"plan-select-panel\", 3, \"ngModel\", \"name\", \"ngModelChange\", \"selectionChange\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"calculator-content\", 4, \"ngIf\"], [3, \"value\"], [1, \"plan-option\"], [1, \"plan-name\"], [1, \"plan-price\"], [1, \"calculator-content\"], [1, \"form-section\", \"calculator-row\"], [1, \"input-group\"], [\"type\", \"number\", \"min\", \"1\", \"max\", \"50000\", 1, \"calculator-input\", 3, \"id\", \"ngModel\", \"name\", \"ngModelChange\"], [1, \"control-label\"], [1, \"label-group\"], [3, \"for\"], [\"matTooltipPosition\", \"right\", 1, \"info-icon\", 3, \"matTooltip\"], [1, \"price-breakdown\"], [1, \"calculator-slider\", 3, \"min\", \"max\", \"step\", \"discrete\", \"showTickMarks\", \"ngModel\", \"name\", \"ngModelChange\"], [\"matSliderThumb\", \"\", 3, \"value\"], [\"class\", \"form-section calculator-row\", 4, \"ngIf\"], [1, \"pricing-summary\"], [\"class\", \"summary-row\", 4, \"ngIf\"], [1, \"summary-total\"], [\"type\", \"number\", \"min\", \"0\", \"max\", \"100000\", 1, \"calculator-input\", 3, \"id\", \"ngModel\", \"name\", \"ngModelChange\"], [\"min\", \"0\", \"max\", \"100000\", \"step\", \"10\", 1, \"calculator-slider\", 3, \"discrete\", \"showTickMarks\", \"displayWith\", \"ngModel\", \"name\", \"ngModelChange\"], [\"matSliderThumb\", \"\"], [1, \"summary-row\"], [1, \"subscription-summary\"], [1, \"summary-container\"], [1, \"grand-total\"], [\"class\", \"summary-section\", 4, \"ngIf\"], [1, \"summary-section\"], [1, \"summary-amount\"]],\n    template: function PriceCalculatorComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"mat-card\", 1)(2, \"h2\");\n        i0.ɵɵtext(3, \"Price Calculator\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"form\", 2)(5, \"div\", 3)(6, \"label\");\n        i0.ɵɵtext(7, \"Term:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"mat-button-toggle-group\", 4);\n        i0.ɵɵlistener(\"ngModelChange\", function PriceCalculatorComponent_Template_mat_button_toggle_group_ngModelChange_8_listener($event) {\n          return ctx.selectedTerm = $event;\n        })(\"change\", function PriceCalculatorComponent_Template_mat_button_toggle_group_change_8_listener() {\n          return ctx.calculateTotal();\n        });\n        i0.ɵɵelementStart(9, \"mat-button-toggle\", 5);\n        i0.ɵɵtext(10, \"1 Year\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"mat-button-toggle\", 6);\n        i0.ɵɵtext(12, \"3 Years\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(13, \"div\", 7);\n        i0.ɵɵtemplate(14, PriceCalculatorComponent_ng_container_14_Template, 15, 5, \"ng-container\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(15, PriceCalculatorComponent_div_15_Template, 11, 4, \"div\", 9);\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngModel\", ctx.selectedTerm);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngForOf\", ctx.productFamilies);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.hasAnySelection());\n      }\n    },\n    directives: [i2.MatCard, i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm, i4.MatButtonToggleGroup, i3.NgControlStatus, i3.NgModel, i4.MatButtonToggle, i5.NgForOf, i2.MatCardTitle, i2.MatCardContent, i6.MatFormField, i7.MatSelect, i8.MatOption, i5.NgIf, i3.MinValidator, i3.MaxValidator, i3.NumberValueAccessor, i3.DefaultValueAccessor, i9.MatIcon, i10.MatSlider],\n    pipes: [i5.CurrencyPipe],\n    styles: [\".calculator-container[_ngcontent-%COMP%]{max-width:400px;margin:2rem auto;background:#fff;border-radius:16px;box-shadow:0 2px 16px #00000014;padding:1.5rem 1.5rem 2rem;display:flex;flex-direction:column;gap:1.5rem}.calculator-header[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin-bottom:.5rem;color:#222;letter-spacing:-.5px}.calculator-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}label[_ngcontent-%COMP%]{font-weight:500;color:#444;margin-bottom:.25rem;display:block}select[_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%]{width:100%;padding:.5rem .75rem;border:1px solid #d1d5db;border-radius:8px;font-size:1rem;margin-bottom:1rem;background:#fafbfc;transition:border .2s}select[_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.button-row[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem}button[_ngcontent-%COMP%]{background:#007bff;color:#fff;border:none;border-radius:8px;padding:.75rem 1.5rem;font-size:1rem;font-weight:600;cursor:pointer;transition:background .2s}button[_ngcontent-%COMP%]:disabled{background:#b3c6e0;cursor:not-allowed}button[_ngcontent-%COMP%]:hover:not(:disabled){background:#0056b3}.result-section[_ngcontent-%COMP%]{background:#f5f7fa;border-radius:10px;padding:1.25rem 1rem;margin-top:1.5rem;text-align:center;font-size:1.2rem;color:#1a3a5d;font-weight:500;box-shadow:0 1px 4px #0000000a}.calculator-page[_ngcontent-%COMP%]{padding:2rem;background:#f5f5f5;min-height:100vh}.calculator-page[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 1.5rem;color:#1a2b3c;font-size:1.5rem}.calculator-form[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;background:white;border-radius:8px;box-shadow:0 1px 3px #0000001a}.calculator-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;color:#1a2b3c;margin-bottom:2rem}.term-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:24px}.term-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:#374151}.calculator-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-gap:24px;gap:24px}.family-section[_ngcontent-%COMP%]{background:#ffffff;border:1px solid #e5e7eb;border-radius:8px}.family-section[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]{font-size:20px;color:#1a2b3c;margin-bottom:24px}.select-wrapper[_ngcontent-%COMP%]{margin-bottom:24px}.select-wrapper[_ngcontent-%COMP%]   .select-label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#4b5563;margin-bottom:8px}.price-breakdown[_ngcontent-%COMP%]{color:#6b7280;font-size:12px;margin-top:4px}.calculator-slider[_ngcontent-%COMP%]{width:100%;margin:8px 0}.pricing-summary[_ngcontent-%COMP%]{margin-top:24px;padding-top:16px;border-top:1px solid #e5e7eb}.summary-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;font-size:14px;color:#4b5563}.summary-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.summary-total[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:12px;padding-top:12px;border-top:1px solid #e5e7eb;font-weight:600;color:#1a2b3c;font-size:16px}.subscription-summary[_ngcontent-%COMP%]{margin-top:32px;padding:24px;background:#f8fafc;border-radius:8px}.subscription-summary[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#1a2b3c;margin-bottom:16px}.subscription-summary[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.subscription-summary[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:12px;border-bottom:1px solid #e5e7eb}.subscription-summary[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;color:#4b5563;font-weight:500}.subscription-summary[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]   .summary-amount[_ngcontent-%COMP%]{font-weight:500;color:#1a2b3c}.subscription-summary[_ngcontent-%COMP%]   .grand-total[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:16px;font-size:1.125rem;font-weight:600;color:#1a2b3c}@media (max-width: 600px){.calculator-container[_ngcontent-%COMP%]{padding:.75rem;max-width:100%}.calculator-header[_ngcontent-%COMP%]{font-size:1.2rem}.calculator-form[_ngcontent-%COMP%], .calculator-summary[_ngcontent-%COMP%]{max-width:100%;padding:.5rem}}@media (max-width: 900px){.calculator-grid[_ngcontent-%COMP%]{flex-direction:column;gap:1.5rem}.family-section.stigg-style[_ngcontent-%COMP%]{max-width:100%;min-width:0}}  .mat-mdc-form-field{width:100%}  .mat-mdc-form-field .mat-mdc-form-field-wrapper{padding-bottom:0}  .mat-mdc-form-field .mat-mdc-text-field-wrapper{background-color:#fff}  .mat-mdc-form-field .mat-mdc-form-field-outline{color:#d1d5db}  .mat-mdc-select-panel{background:white;border-radius:6px!important;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f!important}  .plan-option{display:flex;justify-content:space-between;align-items:center;width:100%;padding:4px 0}  .plan-option .plan-name{font-weight:500;color:#1a2b3c}  .plan-option .plan-price{color:#6b7280;font-size:13px}  .mat-button-toggle-group{border:1px solid #d1d5db;border-radius:6px;overflow:hidden}  .mat-button-toggle-group .mat-button-toggle{background:#f3f4f6;color:#4b5563;font-weight:500}  .mat-button-toggle-group .mat-button-toggle-checked{background:#007bff;color:#fff}  .mat-button-toggle-group .mat-button-toggle .mat-button-toggle-label-content{line-height:36px;padding:0 16px}  .mat-mdc-select-value{padding:4px 0}\"]\n  });\n  return PriceCalculatorComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}