/* Nitro-themed Pricing Page with Enhanced Visual Hierarchy */

.pricing-page {
  max-width: 1400px;
  margin: 0 auto;
  padding: var(--nitro-spacing-xl);
  background: var(--nitro-silver);
  font-family: "DM Sans", sans-serif;
}

/* Enhanced header section with unified H1 and commitment toggle */
.pricing-header-section {
  background: white;
  border-radius: 16px;
  padding: var(--nitro-spacing-3xl);
  margin-bottom: var(--nitro-spacing-3xl);
  box-shadow: 0 4px 16px rgba(var(--nitro-black-rgb), 0.08);
  border: 1px solid rgba(var(--nitro-eclipse-rgb), 0.1);

  .header-content {
    text-align: center;
    max-width: 800px;
    margin: 0 auto;

    h1 {
      font-family: "DM Serif Text", serif;
      font-size: clamp(2rem, 5vw, 3.5rem);
      color: var(--nitro-black);
      margin-bottom: var(--nitro-spacing-xl);
      line-height: 1.2;
    }

    .commitment-container {
      .commitment-label {
        font-size: 1.125rem;
        color: var(--nitro-eclipse);
        margin-bottom: var(--nitro-spacing-lg);
        font-weight: 500;
      }

      .commitment-toggle {
        display: flex;
        justify-content: center;
        gap: var(--nitro-spacing-md);
        padding: var(--nitro-spacing-xs);
        background: var(--nitro-mist);
        border-radius: 12px;
        max-width: 600px;
        margin: 0 auto;

        .commitment-btn {
          flex: 1;
          padding: var(--nitro-spacing-lg) var(--nitro-spacing-xl);
          border: 2px solid transparent;
          background: transparent;
          border-radius: 8px;
          cursor: pointer;
          transition: all 0.3s ease;
          
          .term {
            display: block;
            font-size: 1.125rem;
            font-weight: 600;
            color: var(--nitro-eclipse);
            margin-bottom: var(--nitro-spacing-xs);
          }
          
          .savings {
            display: block;
            font-size: 0.875rem;
            color: var(--nitro-eclipse);
            opacity: 0.8;
          }

          &:hover {
            background: rgba(var(--nitro-orange-rgb), 0.1);
            transform: translateY(-2px);
          }

          &.active {
            background: var(--nitro-orange);
            color: white;
            box-shadow: 0 4px 12px rgba(var(--nitro-orange-rgb), 0.3);
            
            .term,
            .savings {
              color: white;
            }
          }
        }
      }
    }
  }
}

/* Products section with improved spacing */
.products-section {
  .product-family {
    margin-bottom: var(--nitro-spacing-3xl);

    .family-header {
      text-align: center;
      margin-bottom: var(--nitro-spacing-2xl);

      h2 {
        font-family: "DM Serif Text", serif;
        font-size: 2.25rem;
        color: var(--nitro-black);
        margin-bottom: var(--nitro-spacing-md);
      }

      .family-description {
        font-size: 1.125rem;
        color: var(--nitro-eclipse);
        max-width: 600px;
        margin: 0 auto;
        line-height: 1.6;
      }
    }

    .plans-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
      gap: var(--nitro-spacing-xl);
      margin-top: var(--nitro-spacing-2xl);

      @media (max-width: 768px) {
        grid-template-columns: 1fr;
        gap: var(--nitro-spacing-lg);
      }
    }
  }
}

/* Enhanced plan cards with better layout */
.plan-card {
  background: white;
  border-radius: 16px;
  border: 2px solid rgba(var(--nitro-eclipse-rgb), 0.1);
  box-shadow: 0 4px 16px rgba(var(--nitro-black-rgb), 0.08);
  transition: all 0.3s ease;
  display: flex;
  flex-direction: column;
  height: 100%;

  &:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 24px rgba(var(--nitro-black-rgb), 0.12);
    border-color: rgba(var(--nitro-orange-rgb), 0.3);
  }

  .plan-header {
    padding: var(--nitro-spacing-xl) var(--nitro-spacing-xl) var(--nitro-spacing-lg);
    border-bottom: 1px solid rgba(var(--nitro-eclipse-rgb), 0.1);

    .plan-name {
      font-family: "DM Serif Text", serif;
      font-size: 1.5rem;
      color: var(--nitro-black);
      margin-bottom: var(--nitro-spacing-sm);
    }

    .team-suggestion {
      display: flex;
      align-items: center;
      gap: var(--nitro-spacing-xs);
      color: var(--nitro-fig);
      font-size: 0.875rem;
      font-weight: 500;

      mat-icon {
        font-size: 1rem;
        width: 1rem;
        height: 1rem;
      }
    }
  }

  .plan-pricing {
    padding: var(--nitro-spacing-xl);
    text-align: right;
    background: linear-gradient(135deg, var(--nitro-sky) 0%, rgba(var(--nitro-mist), 0.5) 100%);

    .price-display {
      .currency {
        font-size: 1.25rem;
        color: var(--nitro-eclipse);
        vertical-align: top;
        margin-right: var(--nitro-spacing-xs);
      }

      .amount {
        font-size: 3rem;
        font-weight: 700;
        color: var(--nitro-black);
        line-height: 1;
      }

      .price-details {
        display: flex;
        flex-direction: column;
        align-items: flex-end;
        margin-top: var(--nitro-spacing-xs);

        .period {
          font-size: 0.875rem;
          color: var(--nitro-eclipse);
          margin-bottom: var(--nitro-spacing-xs);
        }

        .contract-badge {
          background: var(--nitro-orange);
          color: white;
          padding: var(--nitro-spacing-xs) var(--nitro-spacing-sm);
          border-radius: 6px;
          font-size: 0.75rem;
          font-weight: 500;
        }
      }
    }
  }

  .plan-features {
    padding: var(--nitro-spacing-xl);
    flex: 1;

    .features-section {
      margin-bottom: var(--nitro-spacing-xl);

      h4 {
        font-size: 1rem;
        font-weight: 600;
        color: var(--nitro-black);
        margin-bottom: var(--nitro-spacing-md);
      }

      .features-list {
        list-style: none;
        padding: 0;
        margin: 0;

        li {
          display: flex;
          align-items: flex-start;
          gap: var(--nitro-spacing-sm);
          margin-bottom: var(--nitro-spacing-sm);
          
          mat-icon {
            color: var(--nitro-pine);
            font-size: 1.125rem;
            width: 1.125rem;
            height: 1.125rem;
            margin-top: 2px;
            flex-shrink: 0;
          }

          span {
            flex: 1;
            color: var(--nitro-eclipse);
            line-height: 1.5;
          }

          .info-btn {
            width: 20px;
            height: 20px;
            margin-left: var(--nitro-spacing-xs);
            
            mat-icon {
              font-size: 14px;
              width: 14px;
              height: 14px;
              color: var(--nitro-eclipse);
              margin-top: 0;
            }
          }
        }
      }
    }

    /* Enhanced Sign product information */
    .sign-pricing-details {
      border-top: 1px solid rgba(var(--nitro-eclipse-rgb), 0.1);
      padding-top: var(--nitro-spacing-lg);

      .included-section,
      .additional-costs {
        margin-bottom: var(--nitro-spacing-lg);

        h4 {
          font-size: 0.875rem;
          font-weight: 600;
          color: var(--nitro-black);
          margin-bottom: var(--nitro-spacing-sm);
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }

        .included-item,
        .cost-item {
          display: flex;
          align-items: center;
          gap: var(--nitro-spacing-sm);
          margin-bottom: var(--nitro-spacing-sm);
          
          mat-icon {
            font-size: 1rem;
            width: 1rem;
            height: 1rem;
            color: var(--nitro-fig);
          }

          span {
            flex: 1;
            font-size: 0.875rem;
            color: var(--nitro-eclipse);
          }

          .info-btn {
            width: 18px;
            height: 18px;
            
            mat-icon {
              font-size: 12px;
              width: 12px;
              height: 12px;
              color: var(--nitro-eclipse);
            }
          }
        }
      }

      .additional-costs {
        .cost-item mat-icon {
          color: var(--nitro-terracotta);
        }
      }
    }
  }

  .plan-footer {
    padding: var(--nitro-spacing-xl);
    border-top: 1px solid rgba(var(--nitro-eclipse-rgb), 0.1);
    display: flex;
    flex-direction: column;
    gap: var(--nitro-spacing-md);

    .configure-plan-btn {
      background: var(--nitro-orange);
      color: white;
      border-radius: 8px;
      font-weight: 600;
      padding: var(--nitro-spacing-md) var(--nitro-spacing-lg);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: var(--nitro-spacing-sm);

      &:hover {
        background: rgba(var(--nitro-orange-rgb), 0.9);
        transform: translateY(-1px);
      }

      mat-icon {
        font-size: 1.125rem;
        width: 1.125rem;
        height: 1.125rem;
      }
    }

    .quick-add-btn {
      border-color: var(--nitro-orange);
      color: var(--nitro-orange);
      border-radius: 8px;
      font-weight: 500;
      padding: var(--nitro-spacing-sm) var(--nitro-spacing-lg);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: var(--nitro-spacing-sm);

      &:hover {
        background: rgba(var(--nitro-orange-rgb), 0.1);
      }

      mat-icon {
        font-size: 1rem;
        width: 1rem;
        height: 1rem;
      }
    }
  }
}

/* Help CTA section */
.help-cta-section {
  margin-top: var(--nitro-spacing-3xl);
  padding: var(--nitro-spacing-xl);
  background: var(--nitro-surface-variant);
  border-radius: var(--nitro-border-radius);
  text-align: center;

  .help-cta-content {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--nitro-spacing-md);
    flex-wrap: wrap;

    mat-icon {
      color: var(--nitro-primary);
      font-size: 1.5rem;
    }

    span {
      color: var(--nitro-on-surface);
      font-weight: 500;
    }

    .help-calculator-btn {
      display: flex;
      align-items: center;
      gap: var(--nitro-spacing-xs);
      font-weight: 600;
      
      mat-icon {
        font-size: 1.25rem;
        margin-left: var(--nitro-spacing-xs);
      }

      &:hover {
        background-color: var(--nitro-primary-container);
        color: var(--nitro-on-primary-container);
      }
    }
  }

  @media (max-width: 768px) {
    .help-cta-content {
      flex-direction: column;
      text-align: center;
    }
  }
}

/* Loading and Error States */
.loading-section, .error-section {
  text-align: center;
  padding: var(--nitro-spacing-3xl);
  background: white;
  border-radius: 16px;
  margin: var(--nitro-spacing-xl) 0;
  box-shadow: 0 4px 16px rgba(var(--nitro-black-rgb), 0.08);
}

.loading-content {
  .loading-spinner {
    width: 40px;
    height: 40px;
    border: 4px solid var(--nitro-mist);
    border-top: 4px solid var(--nitro-primary);
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin: 0 auto var(--nitro-spacing-lg);
  }
  
  p {
    color: var(--nitro-eclipse);
    font-size: 1.1rem;
  }
}

.error-content {
  mat-icon {
    font-size: 48px;
    width: 48px;
    height: 48px;
    color: var(--nitro-coral);
    margin-bottom: var(--nitro-spacing-md);
  }
  
  h3 {
    color: var(--nitro-black);
    font-size: 1.5rem;
    margin-bottom: var(--nitro-spacing-sm);
  }
  
  p {
    color: var(--nitro-eclipse);
    margin-bottom: var(--nitro-spacing-lg);
  }
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Responsive design improvements */
@media (max-width: 768px) {
  .pricing-page {
    padding: var(--nitro-spacing-lg);
  }

  .pricing-header-section {
    padding: var(--nitro-spacing-xl);
    
    .header-content {
      .commitment-container .commitment-toggle {
        flex-direction: column;
        max-width: 300px;
        
        .commitment-btn {
          padding: var(--nitro-spacing-md);
          
          .term {
            font-size: 1rem;
          }
          
          .savings {
            font-size: 0.8rem;
          }
        }
      }
    }
  }

  .plan-card {
    .plan-pricing .price-display .amount {
      font-size: 2.5rem;
    }

    .plan-footer {
      .configure-plan-btn,
      .quick-add-btn {
        padding: var(--nitro-spacing-md);
        font-size: 0.9rem;
      }
    }
  }
}

/* Ensure currency selector works properly on this page */
::ng-deep app-currency-selector {
  .currency-dropdown {
    z-index: 9999 !important;
    position: absolute !important;
  }
  
  .dropdown-overlay {
    z-index: 9998 !important;
    position: fixed !important;
  }
}